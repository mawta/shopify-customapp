import React from "react";
import { useThemeSwitcher } from "react-css-theme-switcher";
import { Switch, Input, Affix } from "antd";
import Icon from "@ant-design/icons";
import { getCookie, setCookie } from "../../helper";

function SwitchTheme(props) {
    let cookieDefault = getCookie("theme");
    const [isDarkMode, setIsDarkMode] = React.useState(cookieDefault == "dark");
    const { switcher, currentTheme, status, themes } = useThemeSwitcher();

    const toggleTheme = (isChecked) => {
        setIsDarkMode(isChecked);
        switcher({ theme: isChecked ? themes.dark : themes.light });
        let cookieName = isChecked ? "dark" : "light";
        setCookie({ name: "theme", value: cookieName });
        props.onThemeChange(cookieName);
    };

    if (status === "loading") {
        return null;
    }
    const moonSvg = () => (
        <svg
            id="Capa_1"
            enableBackground="new 0 0 512 512"
            height="2em"
            viewBox="0 0 512 512"
            width="2em"
            xmlns="http://www.w3.org/2000/svg"
        >
            <g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m422.167 55.585c89.571 89.573 92.519 232.976 8.872 326.092-74.042 52.659-167.775 77.668-167.719 78.66-63.607 2.381-128.007-20.721-176.591-69.306-17.943-17.915-32.399-38.012-43.368-59.413-8.815-17.206-5.13-20.721 10.204-9.241 83.93 62.701 203.349 55.927 279.626-20.324 76.249-76.279 83.023-195.701 20.295-279.633-11.451-15.335-7.937-19.02 9.241-10.205 21.429 10.999 41.526 25.455 59.44 43.37z"
                        fill="#fde588"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m195.405 150.799c-29.054 0-52.637 23.555-52.637 52.639 0 2.835.227 5.612.652 8.305-13.294 3.118-23.215 15.052-23.215 29.281 0 16.611 13.464 30.103 30.074 30.103h97.763c24.915 0 45.126-20.211 45.126-45.127s-20.21-45.127-45.126-45.127c-1.672 0-3.316.085-4.932.283-8.39-17.941-26.588-30.357-47.705-30.357z"
                        fill="#eff6ff"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m360.828 350.071c20.21 0 37.501 12.387 44.672 29.99 3.345-.935 6.831-1.417 10.459-1.417 5.357 0 10.459 1.077 15.08 3.033 12.217 5.159 21.231 16.384 23.271 29.905 25.652 0 46.458 20.806 46.458 46.459s-20.805 46.459-46.458 46.459h-143.908c-25.057 0-45.522-19.502-47.081-44.163-.057-.992-.085-1.984-.085-2.976 0-15.619 7.596-29.48 19.303-38.04-.85-3.09-1.304-6.349-1.304-9.694 0-19.842 16.072-35.943 35.942-35.943.709 0 1.417.028 2.126.057 8.389-14.174 23.866-23.67 41.525-23.67z"
                        fill="#eff6ff"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m280.866 19.756 14.91 29.395 29.394 14.882c3.968 2.013 3.94 3.515-.028 5.527l-29.366 14.882-14.881 29.366c-2.012 3.968-3.515 3.997-5.527.028l-14.881-29.395-29.394-14.91c-3.968-2.013-3.968-3.487 0-5.499l29.394-14.882 14.881-29.395c2.011-3.968 3.485-3.968 5.498.001z"
                        fill="#fde588"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m63.997 79.197 14.91 29.395 29.394 14.91c3.968 2.013 3.94 3.487-.028 5.499l-29.366 14.91-14.91 29.366c-2.013 3.968-3.486 3.997-5.499.028l-14.91-29.395-29.394-14.91c-3.968-2.013-3.94-3.487.028-5.499l29.366-14.91 14.91-29.366c2.012-3.968 3.486-3.996 5.499-.028z"
                        fill="#fde588"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m431.039 381.677c83.647-93.117 80.699-236.519-8.872-326.092-17.914-17.915-38.011-32.371-59.44-43.369-17.177-8.816-20.692-5.131-9.241 10.204 10.148 13.578 32.569 28.091 42.319 43.199 67.603 104.568 78.658 193.348 1.757 301.403 3.288 3.855 5.981 8.277 7.937 13.039 3.345-.935 6.831-1.417 10.459-1.417 5.358 0 10.461 1.077 15.081 3.033z"
                        fill="#fdd76f"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m500.768 458.041c0-25.653-20.805-46.459-46.458-46.459-2.041-13.521-11.055-24.746-23.271-29.905-4.62-1.956-9.722-3.033-15.08-3.033-3.628 0-7.115.482-10.459 1.417-1.956-4.762-4.649-9.184-7.937-13.039-8.844-10.375-22.024-16.951-36.735-16.951-15.136 0-28.629 6.945-37.472 17.858 40.704 11.027 70.41 45.552 70.41 86.455 0 18.538-6.094 35.801-16.582 50.116h77.127c25.652 0 46.457-20.806 46.457-46.459z"
                        fill="#d9eeff"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path
                        clipRule="evenodd"
                        d="m248.042 271.128c24.915 0 45.126-20.211 45.126-45.127s-20.21-45.127-45.126-45.127c-1.672 0-3.316.085-4.932.283-8.39-17.943-26.588-30.359-47.705-30.359-5.641 0-11.083.879-16.185 2.551 20.664 12.642 34.61 36.651 34.61 64.175 0 21.118-8.22 40.138-21.344 53.602h55.556z"
                        fill="#d9eeff"
                        fillRule="evenodd"
                    />
                </g>
                <g>
                    <path d="m227.699 76.219 27.205 13.8 13.775 27.208c.887 1.749 3.585 7.07 9.443 7.071 5.862 0 8.572-5.344 9.463-7.1l13.772-27.177 27.178-13.773c1.755-.89 7.098-3.6 7.098-9.462 0-5.858-5.322-8.556-7.074-9.446l-27.203-13.772-13.799-27.205c-.889-1.752-3.593-7.084-9.439-7.084s-8.55 5.333-9.44 7.089l-13.773 27.202-27.206 13.774c-1.752.889-7.084 3.593-7.083 9.439 0 5.845 5.332 8.548 7.083 9.436zm36.174-20.377c1.425-.722 2.582-1.879 3.304-3.304l10.944-21.617 10.966 21.621c.722 1.423 1.878 2.578 3.301 3.299l21.627 10.949-21.629 10.961c-1.423.722-2.579 1.877-3.3 3.3l-10.961 21.629-10.948-21.626c-.721-1.423-1.876-2.579-3.298-3.301l-21.621-10.968z" />
                    <path d="m51.809 176.698c.887 1.748 3.585 7.07 9.429 7.07 5.848-.001 8.557-5.344 9.446-7.095l13.801-27.183 27.178-13.8c1.756-.89 7.098-3.599 7.099-9.447.001-5.844-5.321-8.543-7.069-9.429l-27.207-13.8-13.8-27.207c-.887-1.749-3.585-7.07-9.429-7.071-5.847 0-8.557 5.344-9.446 7.095l-13.801 27.183-27.179 13.799c-1.756.891-7.099 3.6-7.098 9.449 0 5.845 5.323 8.542 7.069 9.427l27.207 13.801zm-4.826-61.419c1.418-.721 2.572-1.873 3.292-3.292l10.977-21.621 10.965 21.618c.721 1.421 1.875 2.575 3.296 3.296l21.618 10.965-21.621 10.978c-1.419.721-2.572 1.873-3.292 3.292l-10.977 21.621-10.965-21.618c-.721-1.421-1.875-2.575-3.296-3.296l-21.618-10.966z" />
                    <path d="m460.39 404.423c-2.979-10.135-9.375-18.78-17.753-24.719 80.561-96.683 74.615-239.637-15.168-329.423-18.086-18.086-38.717-33.138-61.319-44.738-9.528-4.89-19.098-8.527-24.556-2.068-5.421 6.412-.376 15.051 5.884 23.435 34.187 45.735 47.893 104.359 37.603 160.841-.743 4.074 1.959 7.979 6.034 8.722 4.073.732 7.98-1.96 8.722-6.035 10.906-59.866-3.334-121.989-39.077-170.794 20.641 10.781 39.51 24.652 56.102 41.243 85.166 85.169 89.982 221.304 11.839 312.077-4.071-1.183-8.349-1.82-12.744-1.82-2.087 0-4.16.137-6.204.409-9.679-17.791-28.268-28.982-48.927-28.982-18.135 0-35.223 8.963-45.588 23.656-23.058 1.017-41.505 20.094-41.505 43.399 0 2.265.173 4.52.516 6.745-10.583 9.34-17.176 22.531-18.318 36.616-61.175.385-120.551-23.909-163.903-67.264-16.609-16.583-30.479-35.441-41.241-56.073 41.991 30.741 93.736 45.696 145.969 42.154 53.458-3.631 103.795-26.519 141.741-64.452 22.677-22.705 39.83-49.355 50.983-79.209 1.449-3.88-.521-8.201-4.401-9.65-3.879-1.45-8.201.52-9.651 4.4-10.398 27.832-26.394 52.682-47.541 73.854-72.197 72.174-188.201 80.608-269.829 19.625-8.378-6.273-17.016-11.332-23.433-5.915-6.463 5.453-2.83 15.036 2.06 24.579 11.582 22.596 26.635 43.22 44.739 61.295 24.499 24.501 53.193 43.162 85.283 55.466 28.087 10.768 57.494 16.209 87.55 16.208.839 0 1.681-.015 2.521-.023 4.961 25.06 27.114 44.016 53.621 44.016h27.636c4.142 0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5h-27.636c-21.872 0-39.667-17.782-39.667-39.639 0-12.597 6.068-24.555 16.23-31.987 2.515-1.839 3.63-5.041 2.804-8.044-.687-2.496-1.035-5.088-1.035-7.704 0-15.683 12.759-28.443 28.442-28.443.609 0 1.218.026 1.827.051 2.736.09 5.348-1.301 6.753-3.674 7.299-12.33 20.738-19.99 35.072-19.99 16.652 0 31.461 9.939 37.727 25.321 1.438 3.53 5.294 5.422 8.966 4.392 2.706-.757 5.545-1.141 8.439-1.141 15.358 0 28.657 11.416 30.935 26.555.552 3.67 3.705 6.384 7.416 6.384 21.482 0 38.958 17.477 38.958 38.96 0 21.482-17.477 38.959-38.958 38.959h-81.634c-4.142 0-7.5 3.357-7.5 7.5s3.358 7.5 7.5 7.5h81.634c29.753 0 53.958-24.205 53.958-53.958.002-27.696-20.975-50.587-47.876-53.617z" />
                    <path d="m112.705 241.025c0 20.735 16.855 37.603 37.574 37.603h97.763c29.018 0 52.625-23.609 52.625-52.627s-23.608-52.626-52.625-52.626c-.182 0-.362.001-.541.003-10.663-18.426-30.583-30.078-52.096-30.078-33.16 0-60.137 26.978-60.137 60.139 0 1.03.026 2.063.08 3.097-13.604 5.849-22.643 19.225-22.643 34.489zm32.427-21.98c3.824-.896 6.308-4.592 5.696-8.471-.372-2.353-.56-4.754-.56-7.136 0-24.89 20.248-45.139 45.137-45.139 17.457 0 33.516 10.219 40.911 26.035 1.375 2.94 4.481 4.657 7.707 4.267 1.247-.153 2.561-.228 4.018-.228 20.747 0 37.626 16.879 37.626 37.627s-16.879 37.628-37.626 37.628h-97.763c-12.448 0-22.575-10.14-22.575-22.604.002-10.534 7.168-19.572 17.429-21.979z" />
                </g>
            </g>
        </svg>
    );

    const sunSvg = () => (
        <svg
            id="Capa_1"
            enableBackground="new 0 0 512.288 512.288"
            height="2em"
            viewBox="0 0 512.288 512.288"
            width="2em"
            xmlns="http://www.w3.org/2000/svg"
        >
            <g>
                <g>
                    <g>
                        <ellipse
                            cx="322.575"
                            cy="189.877"
                            fill="#ffe07d"
                            rx="82.833"
                            ry="82.833"
                            transform="matrix(.16 -.987 .987 .16 83.479 477.872)"
                        />
                        <path
                            d="m322.575 107.044c-3.904 0-7.74.29-11.5.813 40.302 5.601 71.333 40.177 71.333 82.021s-31.032 76.42-71.333 82.021c3.76.523 7.596.813 11.5.813 45.748 0 82.833-37.086 82.833-82.833s-37.085-82.835-82.833-82.835z"
                            fill="#ffd064"
                        />
                    </g>
                    <g>
                        <path
                            d="m438.196 372.111h-.023c-1.221 0-2.272-.821-2.613-1.993-8.026-27.565-33.476-47.707-63.631-47.707-11.275 0-21.887 2.825-31.179 7.795-3.642 1.948-8.163.93-10.478-2.49-8.934-13.197-24.04-21.872-41.176-21.872-4.007 0-7.903.477-11.635 1.374-4.043.972-8.218-1.2-9.524-5.148-12.002-36.299-46.202-62.492-86.525-62.492-50.322 0-91.117 40.794-91.117 91.117 0 1.143.029 2.278.077 3.409.047 1.119-.32 2.217-1.009 3.1l-.071.091c-.863 1.106-2.17 1.758-3.571 1.835-44.09 2.402-79.009 39.258-78.247 84.123.771 45.353 38.501 81.392 83.861 81.392h345.872c36.419 0 66.776-28.97 67.249-65.387.481-37.002-29.369-67.147-66.26-67.147z"
                            fill="#ecf4ff"
                        />
                        <path
                            d="m438.196 372.111h-.023c-1.221 0-2.272-.821-2.613-1.993-8.026-27.565-33.476-47.707-63.631-47.707-11.275 0-21.887 2.825-31.179 7.795-3.642 1.948-8.163.93-10.478-2.49-8.934-13.197-24.04-21.872-41.176-21.872-4.007 0-7.903.477-11.635 1.374-4.043.972-8.218-1.2-9.524-5.148-12.002-36.299-46.202-62.492-86.525-62.492-50.322 0-91.117 40.794-91.117 91.117 0 1.143.029 2.278.077 3.409.047 1.119-.32 2.217-1.009 3.1l-.071.091c-.863 1.106-2.17 1.758-3.571 1.835-44.09 2.402-79.009 39.258-78.247 84.123.771 45.353 38.501 81.392 83.861 81.392h345.872c36.419 0 66.776-28.97 67.249-65.387.481-37.002-29.369-67.147-66.26-67.147z"
                            fill="#ecf4ff"
                        />
                        <path
                            d="m438.196 372.111h-.023c-1.221 0-2.272-.821-2.613-1.993-8.026-27.564-33.476-47.707-63.631-47.707-3.921 0-7.759.349-11.492 1.004 24.976 4.375 45.142 22.728 52.123 46.703.341 1.172 1.392 1.993 2.613 1.993h.023c36.891 0 66.741 30.145 66.261 67.146-.472 36.417-30.829 65.387-67.249 65.387h23c36.419 0 66.776-28.97 67.249-65.387.48-37.001-29.37-67.146-66.261-67.146z"
                            fill="#ddeafb"
                        />
                    </g>
                </g>
                <g>
                    <path d="m106.396 497.144h-16.075c-41.532 0-75.321-33.794-75.321-75.333 0-41.516 33.752-75.296 75.253-75.333.14.005.278.009.418.009h.006c41.369.193 74.965 33.904 74.965 75.324 0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5c0-47.275-36.5-86.179-82.795-90.017-.005-.365-.025-.738-.025-1.1 0-14.145 3.593-28.118 10.392-40.409 2.004-3.625.691-8.188-2.934-10.193-3.625-2.003-8.188-.69-10.193 2.933-8.023 14.507-12.265 30.991-12.265 47.668 0 .363.002.727.006 1.092-46.311 3.822-82.828 42.739-82.828 90.026 0 49.81 40.518 90.333 90.321 90.333h16.075c4.143 0 7.5-3.358 7.5-7.5s-3.357-7.5-7.5-7.5z" />
                    <path d="m441.681 364.693c-10.133-29.587-38.035-49.783-69.771-49.783-12.418 0-24.442 3.073-35.212 8.949-10.507-15.722-28.409-25.515-47.608-25.515-4.738 0-9.398.574-13.928 1.712-5.936-18.111-17.152-34.361-32.143-46.371-17.393-13.934-39.268-21.608-61.597-21.608-24.438 0-47.883 9.008-66.017 25.364-3.076 2.774-3.32 7.517-.546 10.593 2.776 3.077 7.518 3.318 10.593.546 15.373-13.866 35.25-21.503 55.97-21.503 36.931 0 68.911 23.783 79.757 58.52-17.754 9.918-29.282 28.845-29.282 49.947 0 4.142 3.357 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5 0-17.243 10.429-32.513 25.973-38.968.025-.01-.025.01 0 0 5.128-2.126 10.635-3.232 16.22-3.232 16.233 0 31.211 9.493 38.159 24.185.944 1.996 2.721 3.475 4.854 4.042 2.135.566 4.409.165 6.221-1.1 9.892-6.909 21.505-10.561 33.586-10.561 26.85 0 50.254 18.141 56.917 44.116.871 3.401 3.947 5.733 7.498 5.633 0 0 1.393-.049 1.841-.049 32.399 0 58.757 26.363 58.757 58.767s-26.358 58.767-58.757 58.767c-32.398 0-58.756-26.363-58.756-58.767 0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5c0 23.962 11.489 45.283 29.24 58.767h-257.254c-4.143 0-7.5 3.358-7.5 7.5s3.357 7.5 7.5 7.5h301.769c40.67 0 73.757-33.091 73.757-73.767.001-39.495-31.198-71.841-70.241-73.684z" />
                    <path d="m322.808 99.544c-.035 0-.07.002-.104.002-.049 0-.099-.002-.148-.002-49.803 0-90.32 40.523-90.32 90.334s40.518 90.333 90.32 90.333c.049 0 .097-.002.146-.002.036 0 .071.001.107.001 49.81 0 90.333-40.523 90.333-90.333-.001-49.81-40.525-90.333-90.334-90.333zm-42.213 27.804c.339-.155.674-.329.995-.54 10.623-6.958 22.753-11.066 35.383-12.036.186-.014.372-.03.559-.043.678-.047 1.359-.082 2.04-.11.786-.031 1.574-.054 2.365-.06.241-.003.481-.013.722-.013 41.484.057 75.215 33.827 75.215 75.331 0 41.493-33.715 75.256-75.184 75.33-41.485-.064-75.216-33.831-75.216-75.33 0-16.023 4.96-31.317 14.345-44.232.283-.389.518-.798.716-1.218 5.036-6.635 11.139-12.418 18.06-17.079z" />
                    <path d="m322.555 81.411c4.143 0 7.5-3.358 7.5-7.5v-66.267c0-4.142-3.357-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v66.267c0 4.142 3.357 7.5 7.5 7.5z" />
                    <path d="m431.022 189.877c0 4.142 3.357 7.5 7.5 7.5h66.267c4.143 0 7.5-3.358 7.5-7.5s-3.357-7.5-7.5-7.5h-66.267c-4.143 0-7.5 3.358-7.5 7.5z" />
                    <path d="m140.321 197.377h66.267c4.143 0 7.5-3.358 7.5-7.5s-3.357-7.5-7.5-7.5h-66.267c-4.143 0-7.5 3.358-7.5 7.5 0 4.143 3.358 7.5 7.5 7.5z" />
                    <path d="m404.556 115.376c1.919 0 3.839-.732 5.304-2.197l46.857-46.857c2.929-2.929 2.929-7.678 0-10.606-2.93-2.929-7.678-2.929-10.607 0l-46.857 46.857c-2.929 2.929-2.929 7.678 0 10.606 1.464 1.465 3.384 2.197 5.303 2.197z" />
                    <path d="m446.109 324.039c1.465 1.465 3.384 2.197 5.304 2.197 1.919 0 3.839-.732 5.304-2.197 2.929-2.929 2.929-7.678 0-10.606l-46.857-46.858c-2.929-2.929-7.677-2.929-10.607 0-2.929 2.929-2.929 7.678 0 10.606z" />
                    <path d="m235.25 113.18c1.465 1.464 3.385 2.197 5.304 2.197s3.839-.732 5.304-2.197c2.929-2.929 2.929-7.678 0-10.606l-46.858-46.858c-2.93-2.929-7.678-2.929-10.607 0s-2.929 7.678 0 10.606z" />
                    <path d="m271.247 85.608c1.196 2.888 3.988 4.632 6.932 4.632.956 0 1.929-.184 2.867-.573 3.827-1.585 5.645-5.973 4.059-9.799l-12.68-30.611c-1.585-3.827-5.973-5.646-9.799-4.059-3.827 1.585-5.645 5.973-4.059 9.799z" />
                    <path d="m181.934 139.749 30.611 12.68c.938.389 1.91.573 2.867.573 2.943 0 5.735-1.744 6.932-4.632 1.586-3.827-.231-8.214-4.059-9.799l-30.611-12.68c-3.824-1.585-8.213.232-9.799 4.059-1.586 3.826.232 8.213 4.059 9.799z" />
                    <path d="m467.233 249.806c1.586-3.827-.231-8.214-4.059-9.799l-30.611-12.68c-3.825-1.583-8.213.232-9.799 4.059s.231 8.214 4.059 9.799l30.611 12.68c.939.389 1.91.573 2.867.573 2.944 0 5.736-1.744 6.932-4.632z" />
                    <path d="m426.823 138.57c-3.827 1.585-5.645 5.973-4.059 9.799 1.196 2.888 3.988 4.632 6.932 4.632.956 0 1.929-.184 2.867-.573l30.611-12.68c3.827-1.585 5.645-5.973 4.059-9.799-1.585-3.826-5.972-5.645-9.799-4.059z" />
                    <path d="m364.062 89.667c.939.389 1.91.573 2.867.573 2.943 0 5.735-1.744 6.932-4.632l12.68-30.611c1.586-3.827-.231-8.214-4.059-9.799-3.824-1.584-8.213.232-9.799 4.059l-12.68 30.611c-1.585 3.827.232 8.214 4.059 9.799z" />
                </g>
            </g>
        </svg>
    );

    const MoonIcon = (props) => <Icon component={moonSvg} {...props} />;
    const SunIcon = (props) => <Icon component={sunSvg} {...props} />;
    return (
        <Affix style={{ position: "absolute", top: 10, right: 30 }}>
            <Switch
                checkedChildren={<MoonIcon />}
                unCheckedChildren={<SunIcon />}
                checked={isDarkMode}
                onChange={toggleTheme}
            />
        </Affix>
    );
}

export default SwitchTheme;
